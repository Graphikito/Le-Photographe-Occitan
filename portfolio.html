// --- CONFIGURATION ET ETAT ---
const galleryStates = new Map();

// --- INITIALISATION DES GALERIES ---
document.addEventListener('DOMContentLoaded', () => {
    const galleries = ['mariage-gallery', 'sport-gallery', 'portrait-gallery'];
    
    galleries.forEach(galleryId => {
        const wrapper = document.getElementById(galleryId);
        if (wrapper) {
            initGallery(wrapper);
        }
    });
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Graphikito_</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="logo"><a href="index.html">Graphikito</a></div>
        <ul class="nav-links">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="prestations.html">Prestation</a></li>
            <li><a href="a_propos.html">À propos</a></li>
        </ul>
    </nav>

    <!-- En-tête Portfolio -->
    <section class="portfolio-header">
        <h1 class="portfolio-main-title">Portfolio</h1>
        <p class="portfolio-subtitle">Retrouvez ici l'exhaustivité de mes photos personnels et mes prestations</p>
    </section>

    <!-- Section Mariage -->
    <section class="gallery-section">
        <h2 class="gallery-title">Mariage</h2>
        
        <div class="gallery-container">
            <button class="gallery-nav gallery-nav-left" onclick="scrollGallery('mariage', -1)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
            
            <div class="gallery-wrapper" id="mariage-gallery">
                <div class="gallery-track">
                    <div class="gallery-item" data-index="1" style="background-color: #e8d5c5"><img src="/photos/mariage/Mariage1.jpg"></div>
                    <div class="gallery-item" data-index="2" style="background-color: #d4b69b"><img src="/photos/mariage/Mariage2.jpg"></div>
                    <div class="gallery-item" data-index="3" style="background-color: #c19c7c"><img src="/photos/mariage/Mariage3.jpeg"></div>
                    <div class="gallery-item" data-index="4" style="background-color: #b88a5c"><img src="/photos/mariage/Mariage7.jpg"></div>
                    <div class="gallery-item" data-index="5" style="background-color: #a67b4d"><img src="/photos/mariage/Mariage5.jpg"></div>
                    <div class="gallery-item" data-index="6" style="background-color: #8f6a42"><img src="/photos/mariage/Mariage6.jpg"></div>
                    <div class="gallery-item" data-index="7" style="background-color: #8f6a42"><img src="/photos/mariage/Mariage6.jpg"></div>


                </div>
            </div>
            
            <button class="gallery-nav gallery-nav-right" onclick="scrollGallery('mariage', 1)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>
        </div>
    </section>

    <!-- Section Sport -->
    <section class="gallery-section">
        <h2 class="gallery-title">Sport</h2>
        
        <div class="gallery-container">
            <button class="gallery-nav gallery-nav-left" onclick="scrollGallery('sport', -1)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
            
            <div class="gallery-wrapper" id="sport-gallery">
                <div class="gallery-track">
                    <div class="gallery-item" data-index="1" style="background-color: #e8d5c5"><img src="/photos/mariage/Mariage.jpg"></div>
                    <div class="gallery-item" data-index="2" style="background-color: #d4b69b"><img src="/photos/mariage/Mariage1.jpg"></div>
                    <div class="gallery-item" data-index="3" style="background-color: #c19c7c"><img src="/photos/mariage/Mariage2.jpg"></div>
                    <div class="gallery-item" data-index="4" style="background-color: #b88a5c"><img src="/photos/mariage/Mariage3.jpeg"></div>
                    <div class="gallery-item" data-index="5" style="background-color: #a67b4d"><img src="/photos/mariage/Mariage7.jpg"></div>
                    <div class="gallery-item" data-index="6" style="background-color: #8f6a42"><img src="/photos/mariage/Mariage5.jpg"></div>
                    <div class="gallery-item" data-index="7" style="background-color: #8f6a42"><img src="/photos/mariage/Mariage5.jpg"></div>

                </div>
            </div>
            
            <button class="gallery-nav gallery-nav-right" onclick="scrollGallery('sport', 1)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>
        </div>
    </section>

    <!-- Section Portrait -->
    <section class="gallery-section">
        <h2 class="gallery-title">Portrait</h2>
        
        <div class="gallery-container">
            <button class="gallery-nav gallery-nav-left" onclick="scrollGallery('portrait', -1)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
            
            <div class="gallery-wrapper" id="portrait-gallery">
                <div class="gallery-track">
                    <div class="gallery-item" data-index="1" style="background-color: #d4a574"></div>
                    <div class="gallery-item" data-index="2" style="background-color: #c99665"></div>
                    <div class="gallery-item" data-index="3" style="background-color: #b88a5c"></div>
                    <div class="gallery-item" data-index="4" style="background-color: #a67b4d"></div>
                    <div class="gallery-item" data-index="5" style="background-color: #8f6a42"></div>
                    <div class="gallery-item" data-index="6" style="background-color: #785839"></div>
                </div>
            </div>
            
            <button class="gallery-nav gallery-nav-right" onclick="scrollGallery('portrait', 1)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>
        </div>
    </section>

    <!-- Bas de page avec menu -->
    <section id="contact" class="contact-section">
        <h2 class="section-title">Contact</h2>
        
        <div class="contact-content">
            <!-- Email -->
            <div class="contact-item">
                <p class="contact-label">Par mail</p>
                <a href="mailto:Graphikito@icloud.com" class="contact-link">Graphikito@icloud.com</a>
            </div>

            <!-- Photo centrale -->
            <div class="contact-photo"><img src="assets/logo.jpg"></div>

            <!-- Instagram -->
            <div class="contact-item">
                <p class="contact-label">Instagram</p>
                <a href="https://instagram.com/Graphikito_/" target="_blank" class="contact-link instagram-link">@Graphikito_</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 Graphiste - Tous droits réservés</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
    // Animation d'apparition des sections
    document.querySelectorAll('.gallery-section').forEach((section, index) => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = `all 0.8s ease ${index * 0.2}s`;
        setTimeout(() => {
            section.style.opacity = '1';
            section.style.transform = 'translateY(0)';
        }, 100);
    });
});

function initGallery(wrapper) {
    const galleryId = wrapper.id.replace('-gallery', '');
    const track = wrapper.querySelector('.gallery-track');
    const items = track.querySelectorAll('.gallery-item');
    
    if (items.length === 0) return;

    // On stocke l'état de chaque galerie
    const state = {
        track: track,
        currentIndex: 0,
        totalItems: items.length,
        itemWidth: items[0].offsetWidth,
        gap: parseInt(window.getComputedStyle(track).gap) || 0,
        animating: false
    };

    galleryStates.set(galleryId, state);
    
    // Recalculer la largeur si la fenêtre change
    window.addEventListener('resize', () => {
        state.itemWidth = items[0].offsetWidth;
        updatePosition(state, true);
    });
}

// --- LOGIQUE DE DEFILEMENT ---
function scrollGallery(galleryId, direction) {
    const state = galleryStates.get(galleryId);
    const maxIndex = state.totalItems - 1;
    if (!state || state.animating) return;

    let newIndex = state.currentIndex + direction;

    // Gestion des limites (Boucle)
    if (newIndex >= maxIndex-1) {
        state.animating = true;
        state.track.style.transition = 'transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
        state.currentIndex = 0;
        updatePosition(state);
        
        state.track.addEventListener('transitionend', () => {
            state.track.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            state.animating = false;
        }, { once: true });
        return;
    } 
    
    if (newIndex < 0) {
        newIndex = maxIndex-2;
    }

    state.animating = true;
    state.currentIndex = newIndex;
    updatePosition(state);

    state.track.addEventListener('transitionend', () => {
        state.animating = false;
    }, { once: true });
}

function updatePosition(state, instant = false) {
    const offset = -(state.currentIndex * (state.itemWidth + state.gap));
    if (instant) state.track.style.transition = 'none';
    state.track.style.transform = `translateX(${offset}px)`;
    if (instant) {
        state.track.offsetHeight; // Force le rendu
        state.track.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
    }
}

window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const heroTitle = document.querySelector('.hero-title');
    if (heroTitle && scrolled < 600) {
        heroTitle.style.transform = `translateY(${scrolled * 0.3}px)`;
        heroTitle.style.opacity = 1 - (scrolled / 500);
    }
});
